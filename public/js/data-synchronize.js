(()=>{var e,t={237:()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}$((function(){var t=function(t,n,a){var r=$httpClient.make().withResponseType("blob");a&&r.withButtonLoading(a),r.post(t.prop("action"),n).then((function(n){var a=n.headers,r=n.data,o=e(a["content-disposition"].split("filename="),2),i=(o[0],o[1]),l=window.URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.download=i,s.click(),window.URL.revokeObjectURL(l),Botble.showSuccess(t.data("success-message"))})).catch((function(){Botble.showError(t.data("error-message"))}))},n=$(document).find('[data-bb-toggle="import-form"]');if(n.length>0){var a=new FormData(n.get(0)),r=n.find('button[type="submit"]'),o=n.find('[data-bb-toggle="import-errors"]'),i=n.find('[data-bb-toggle="import-failures"]'),l=$("#failures-template"),s=n.find(".data-synchronize-import-output"),c=[],u=[],d=null;n.on("change",(function(e){a.set(e.target.name,e.target.value)}));var f=function(e,t){t?s.append('<p class="text-'.concat(t,'">').concat(e,"</p>")):s.append("<p>".concat(e,"</p>")),s.scrollTop(s[0].scrollHeight)},p=new Dropzone(n.find(".dropzone").get(0),{url:n.prop("action"),headers:{"X-CSRF-TOKEN":n.find('input[name="_token"]').val()},previewTemplate:$("#data-synchronize-import-preview-template").html(),acceptedFiles:n.data("accepted-files"),maxFiles:1,autoProcessQueue:!1,chunking:!0,chunkSize:1048576,maxfilesexceeded:function(e){this.removeAllFiles(),this.addFile(e)}}),m=function(){Botble.hideButtonLoading(r),r.prop("disabled",!0).addClass("disabled"),p.removeAllFiles()},g=function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:parseInt(n.find("input[name=chunk_size]").val()),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a.set("file_name",t),a.set("offset",r),a.set("limit",o),a.set("total",s),$httpClient.make().post(n.data("import-url"),a).then((function(n){var a=n.data;a.data.failures.length>0&&(u=u.concat(a.data.failures)),a.data.count>0?(f(a.message),e(t,a.data.offset+o,o,a.data.total)):(f(a.message,"success"),m(),u.length>0&&(i.find("tbody").html(u.map((function(e){return l.html().replace(new RegExp("__index__","g"),"#".concat(e.row)).replace(new RegExp("__attribute__","g"),e.attribute).replace(new RegExp("__errors__","g"),e.errors.map((function(e){return"<li>".concat(e,"</li>")})).join(""))})).join("")),i.show()))})).catch((function(){return m()}))},h=function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:parseInt(n.find("input[name=chunk_size]").val());a.set("file_name",t),a.set("offset",r),a.set("limit",i),$httpClient.make().post(n.data("validate-url"),a).then((function(t){var a=t.data;a.data.errors.length>0&&(c=c.concat(a.data.errors)),null===d&&(d=a.data.total),a.message&&f(a.message),a.data.count>0?e(a.data.file_name,a.data.offset+i,i):0===c.length?g(a.data.file_name,0):f(n.data("validate-failed-message"),"danger"),c.length>0&&(o.find("ul").html(c.map((function(e){return"<li>".concat(e,"</li>")})).join("")),o.show(),m())})).catch((function(){return m()}))};p.on("sending",(function(){s.empty(),s.show(),c=[],u=[],f(n.data("uploading-message")),Botble.showButtonLoading(r)})),p.on("success",(function(e,t){var n=t.data,a=t.error,r=t.message;if(a)return f(r,"danger"),void m();f(r),h(n.file_name,0)})),p.on("addedfile",(function(){r.prop("disabled",!1).removeClass("disabled")})),n.on("submit",(function(e){e.preventDefault(),p.getQueuedFiles().length>0&&p.processQueue()}))}$(document).on("click",'[data-bb-toggle="export-data"] button',(function(e){e.preventDefault();var n=$(e.currentTarget),a=n.closest("form");t(a,a.serialize(),n)})).on("click",'[data-bb-toggle="quick-export"]',(function(e){e.preventDefault(),t($('[data-bb-toggle="export-data"]'),{format:$(e.currentTarget).data("value")})}))}))},710:()=>{}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],l=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={232:0,287:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,l,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)var u=s(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[287],(()=>a(237)));var r=a.O(void 0,[287],(()=>a(710)));r=a.O(r)})();