(()=>{var t,e={237:()=>{function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o,i,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(l.push(a.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}$((function(){var e=function(e,n,a){var r=$httpClient.make().withResponseType("blob");a&&r.withButtonLoading(a),r.post(e.prop("action"),n).then((function(n){var a=n.headers,r=n.data,o=t(a["content-disposition"].split("filename="),2),i=(o[0],o[1]),l=window.URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.download=i,s.click(),window.URL.revokeObjectURL(l),Botble.showSuccess(e.data("success-message"))})).catch((function(){Botble.showError(e.data("error-message"))}))},n=$(document).find('[data-bb-toggle="import-form"]');if(n.length>0){var a=new FormData(n.get(0)),r=n.find('button[type="submit"]'),o=n.find('[data-bb-toggle="import-errors"]'),i=n.find(".data-synchronize-import-output"),l=[],s=null;n.on("change",(function(t){a.set(t.target.name,t.target.value)}));var c=function(t,e){e?i.append('<p class="text-'.concat(e,'">').concat(t,"</p>")):i.append("<p>".concat(t,"</p>")),i.scrollTop(i[0].scrollHeight)},u=new Dropzone(n.find(".dropzone").get(0),{url:n.prop("action"),headers:{"X-CSRF-TOKEN":n.find('input[name="_token"]').val()},previewTemplate:$("#data-synchronize-import-preview-template").html(),acceptedFiles:n.data("accepted-files"),maxFiles:1,autoProcessQueue:!1,chunking:!0,chunkSize:1048576,maxfilesexceeded:function(t){this.removeAllFiles(),this.addFile(t)}}),d=function(){Botble.hideButtonLoading(r),r.prop("disabled",!0).addClass("disabled"),u.removeAllFiles()},f=function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.data("chunk-size"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a.set("file_name",e),a.set("offset",r),a.set("limit",o),a.set("total",i),$httpClient.make().post(n.data("import-url"),a).then((function(n){var a=n.data;a.data.count>0?(c(a.message),t(e,a.data.offset+o,o,a.data.total)):(c(a.message,"success"),d())})).catch((function(){return d()}))},p=function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.data("chunk-size");a.set("file_name",e),a.set("offset",r),a.set("limit",i),$httpClient.make().post(n.data("validate-url"),a).then((function(e){var a=e.data;a.data.errors.length>0&&(l=l.concat(a.data.errors)),null===s&&(s=a.data.total),a.message&&c(a.message),a.data.count>0?t(a.data.file_name,a.data.offset+i,i):0===l.length?f(a.data.file_name,0):c(n.data("validate-failed-message"),"danger"),l.length>0&&(o.find("ul").html(l.map((function(t){return"<li>".concat(t,"</li>")})).join("")),o.show(),d())})).catch((function(){return d()}))};u.on("sending",(function(){i.empty(),i.show(),c(n.data("uploading-message")),Botble.showButtonLoading(r)})),u.on("success",(function(t,e){var n=e.data,a=e.error,r=e.message;if(a)return c(r,"danger"),void d();c(r),p(n.file_name,0)})),u.on("addedfile",(function(){r.prop("disabled",!1).removeClass("disabled")})),n.on("submit",(function(t){t.preventDefault(),u.getQueuedFiles().length>0&&u.processQueue()}))}$(document).on("click",'[data-bb-toggle="export-data"] button',(function(t){t.preventDefault();var n=$(t.currentTarget),a=n.closest("form");e(a,a.serialize(),n)})).on("click",'[data-bb-toggle="quick-export"]',(function(t){t.preventDefault(),e($('[data-bb-toggle="export-data"]'),{format:$(t.currentTarget).data("value")})}))}))},710:()=>{}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.m=e,t=[],a.O=(e,n,r,o)=>{if(!n){var i=1/0;for(u=0;u<t.length;u++){for(var[n,r,o]=t[u],l=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((t=>a.O[t](n[s])))?n.splice(s--,1):(l=!1,o<i&&(i=o));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={232:0,287:0};a.O.j=e=>0===t[e];var e=(e,n)=>{var r,o,[i,l,s]=n,c=0;if(i.some((e=>0!==t[e]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)var u=s(a)}for(e&&e(n);c<i.length;c++)o=i[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),a.O(void 0,[287],(()=>a(237)));var r=a.O(void 0,[287],(()=>a(710)));r=a.O(r)})();